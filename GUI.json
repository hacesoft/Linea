[{"id":"dc14bd796219d9ad","type":"tab","label":"GUI","disabled":false,"info":"//*****************************************************************************\r\n//\r\n// File Name        : GUI\r\n// Title            : GUI\r\n// Author           : http://www.prochazka.zde.cz -> hacesoft 2024\r\n// Created          : 20-06-2024, 11:00\r\n// Revised          : 29-06-2024\r\n// Version          : 1.00\r\n// Target Platfirm  : Node-RED\r\n//\r\n// This code is distributed under the GNU Public License\r\n// Vsechny informace jsou zahrnuty pod GPL licenci, pokud není explicitne uveden jiný typ licence.\r\n// Pouzivání techto stránek a produktů ke komerčním �celum lze jen se souhlasem autora.\r\n// Vsechna práva vyhrazena (c) 1997 - 2024 hacesoft.\r\n//\r\n//*****************************************************************************","env":[]},{"id":"7f7c294712a3580b","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":2,"width":6,"height":1,"name":"","label":"L1","format":"<font color={{fcolor}}>{{msg.payload.phase1}} W","layout":"row-spread","className":"","style":false,"font":"","fontSize":"11","color":"#ffffff","x":1150,"y":100,"wires":[]},{"id":"03042c98ed1f8bd2","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":3,"width":6,"height":1,"name":"","label":"L2","format":"<font color={{fcolor}}>{{msg.payload.phase2}} W","layout":"row-spread","className":"zakazano","style":false,"font":"","fontSize":16,"color":"#000000","x":1150,"y":140,"wires":[]},{"id":"47bee02fd17241cc","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":4,"width":6,"height":1,"name":"","label":"L3","format":"<font color={{fcolor}}>{{msg.payload.phase3}} W","layout":"row-spread","className":"Kulati_Dole","style":false,"font":"","fontSize":16,"color":"#000000","x":1150,"y":180,"wires":[]},{"id":"3012d4563c8a76e7","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":7,"width":6,"height":1,"name":"","label":"L1","format":"<font color={{fcolor}}>{{msg.payload.grid1}} W","layout":"row-spread","className":"Indicator_Pretoky","style":false,"font":"","fontSize":16,"color":"#000000","x":1150,"y":280,"wires":[]},{"id":"f901c314b54b444a","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":8,"width":6,"height":1,"name":"","label":"L2","format":"<font color={{fcolor}}>{{msg.payload.grid2}} W","layout":"row-spread","className":"Indicator_Pretoky","style":false,"font":"","fontSize":16,"color":"#000000","x":1150,"y":320,"wires":[]},{"id":"ecd21f6cd73a0f64","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":9,"width":6,"height":1,"name":"","label":"L3","format":"<font color={{fcolor}}>{{msg.payload.grid3}} W","layout":"row-spread","className":"Kulati_Dole","style":false,"font":"","fontSize":16,"color":"#000000","x":1150,"y":360,"wires":[]},{"id":"80350a39c69e782f","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":11,"width":6,"height":1,"name":"","label":"Baterie","format":"<font color={{fcolor}}>{{msg.payload}} %","layout":"row-spread","className":"Kulati_Nahore","style":false,"font":"","fontSize":16,"color":"#000000","x":1160,"y":420,"wires":[]},{"id":"87d5cf8d58679897","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":12,"width":6,"height":1,"name":"","label":"FW regulatory","format":"<font color={{fcolor}}>{{msg.payload}} W","layout":"row-spread","className":"Kulati_Dole","style":false,"font":"","fontSize":16,"color":"#000000","x":1180,"y":480,"wires":[]},{"id":"881b340c53404d98","type":"function","z":"dc14bd796219d9ad","name":"Set AC OUT UI","func":"let phase1 = global.get('phase1') || 0;\nlet phase2 = global.get('phase2') || 0;\nlet phase3 = global.get('phase3') || 0;\n\nlet total = phase1 + phase2 + phase3;\n\nmsg.payload = { phase1, phase2, phase3, total };\nreturn msg;","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":940,"y":100,"wires":[["7f7c294712a3580b","03042c98ed1f8bd2","47bee02fd17241cc","e74ec256923af82c"]]},{"id":"ba02ecffa7282388","type":"inject","z":"dc14bd796219d9ad","name":"Inject every second","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":400,"y":100,"wires":[["881b340c53404d98","b7f5bd5a3eb90166","33af33642fa0d5a2","fe1d5acc45c21435"]]},{"id":"b7f5bd5a3eb90166","type":"function","z":"dc14bd796219d9ad","name":"Set Label","func":"let a = global.get(\"nBattery_State_Charge\")|| 0;\nmsg.payload = a;\nreturn msg;","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":940,"y":420,"wires":[["80350a39c69e782f"]]},{"id":"33af33642fa0d5a2","type":"function","z":"dc14bd796219d9ad","name":"Set Label","func":"let a = global.get(\"pvPower\")|| 0;\nmsg.payload = a;\nreturn msg;","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":940,"y":480,"wires":[["87d5cf8d58679897"]]},{"id":"e74ec256923af82c","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":1,"width":6,"height":1,"name":"","label":"Total AC zátěž","format":"<font color={{fcolor}}>{{msg.payload.total}} W","layout":"row-spread","className":"Kulati_Nahore","style":true,"font":"","fontSize":16,"color":"#ffbb00","x":1180,"y":60,"wires":[]},{"id":"fe1d5acc45c21435","type":"function","z":"dc14bd796219d9ad","name":"Set GRID UI","func":"let grid1 = global.get('grid1') || 0;\nlet grid2 = global.get('grid2') || 0;\nlet grid3 = global.get('grid3') || 0;\n\nlet total = grid1 + grid2 + grid3;\n\nmsg.payload = { grid1, grid2, grid3, total };\nreturn msg;","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":930,"y":280,"wires":[["ecd21f6cd73a0f64","f901c314b54b444a","3012d4563c8a76e7","be54171f553bba4a"]]},{"id":"be54171f553bba4a","type":"ui_text","z":"dc14bd796219d9ad","group":"eff8c2fb7917b0ab","order":6,"width":6,"height":1,"name":"","label":"Total Síť","format":"<font color={{fcolor}}>{{msg.payload.total}} W","layout":"row-spread","className":"Kulati_Nahore","style":true,"font":"","fontSize":16,"color":"#ffbb00","x":1160,"y":240,"wires":[]},{"id":"909f0fa3f4147ede","type":"ui_template","z":"dc14bd796219d9ad","group":"6bdf3420903b72e3","name":"Dashboard Theme : Modern Dark","order":6,"width":6,"height":1,"format":"<style>\n    body {\n        --margin: 0;\n        --padding: 0;\n        --font-family: Arial, Helvetica, sans-serif;\n        --background-color: #3c3c3c;\n        --background: #2e2d2d;\n        --color: #faf9f5;\n        --color_border: #004f4b;\n        --on-background: #faf9f5;\n        --on-surface: #faf9f5;\n        --on-primary: #faf9f5;\n        --surface: #3c3c3c;\n        --okraj-karty: #504f4b;\n        --primary: var(--nr-dashboard-widgetColor);\n        --secondary: var(--nr-dashboard-groupTextColor);\n        --accent: red;\n        --radius-s: 9px;\n        --nr-dashboard-widgetTextColor: var(--on-primary);\n    }\n\n    body.nr-dashboard-theme {\n        background-color: var(--background);\n        font-family: var(--font-family);\n    }\n\n    .nr-dashboard-theme .nr-dashboard-template {\n        background-color: var(--surface);\n    }\n\n    .nr-dashboard-theme ui-card-panel {\n        background-color: var(--background);\n        border: 2px solid var(--okraj-karty);      //nastaveni okraje karet\n    }\n\n    .nr-dashboard-theme .nr-dashboard-button .md-button {\n        background-color: var(--primary);\n        line-height: inherit;\n        color: var(--on-primary);\n    }\n\n    .nr-dashboard-theme [ui-card-size=\"2x2\"].nr-dashboard-button .md-button {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        white-space: pre-line;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-button .md-button ui-icon {\n        margin-bottom: 8px;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-button .md-button:hover {\n        background-color: var(--secondary);\n    }\n\n    body.nr-dashboard-theme md-content md-card {\n        background-color: var(--surface);\n    }\n\n    md-card.md-default-theme,\n    md-card {\n        //border-radius: 0; /* Zakulacení rohů odstraněno */\n    }\n\n    .nr-dashboard-theme .nr-dashboard-gauge-titlel {\n        font-weight: var(--font-weight-l) !important;\n    }\n\n    .nr-dashboard-theme ui-card-panel p.nr-dashboard-cardtitle {\n        font-weight: var(--font-weight-l);\n        text-transform: capitalize;\n        color: var(--on-background);\n    }\n\n    .nr-dashboard-cardpanel>p {\n        margin-left: 0;\n        padding-left: 8px; /* Zmenšená výplň */\n    }\n\n    body.nr-dashboard-theme md-toolbar {\n        background-color: var(--surface);\n    }\n\n    /* Calendar and Date picker */\n    .md-default-theme .md-datepicker-calendar,\n    .md-datepicker-calendar,\n    .md-default-theme .md-calendar,\n    .md-calendar {\n        background-color: var(--surface);\n        color: var(--on-surface);\n    }\n\n    .md-default-theme .md-datepicker-calendar-pane,\n    .md-datepicker-calendar-pane {\n        border: 0;\n    }\n\n    .md-default-theme .md-calendar-month-label md-icon,\n    .md-calendar-month-label md-icon,\n    .md-default-theme .md-datepicker-input,\n    .md-datepicker-input {\n        color: var(--on-surface);\n    }\n\n    .nr-dashboard-theme .nr-dashboard-date-picker md-input-container .md-input {\n        color: var(--on-surface);\n    }\n\n    body.nr-dashboard-theme md-content md-card {\n        color: var(--on-surface);\n    }\n\n    .nr-dashboard-theme .nr-dashboard-numeric .value {\n        background-color: var(--surface);\n        color: var(--on-surface);\n    }\n\n    .nr-dashboard-theme md-select-menu {\n        background-color: var(--surface);\n        color: var(--on-surface);\n    }\n\n    .nr-dashboard-textinput md-input-container .md-input,\n    .nr-dashboard-theme md-input-container.md-default-theme .md-input,\n    md-input-container .md-input {\n        color: var(--on-surface);\n    }\n\n    .nr-dashboard-theme .nr-dashboard-textinput md-input-container.md-input-has-value label {\n        color: #5d5e5f;\n    }\n\n    /* Dropdown */\n    .nr-dashboard-theme .nr-dashboard-dropdown md-select .md-select-value,\n    .nr-dashboard-theme .nr-dashboard-dropdown md-select .md-select-value.md-select-placeholder {\n        color: var(--on-surface);\n        //border-color: #1d85fc;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-dropdown .md-select-icon {\n        color: var(--on-surface);\n    }\n\n    .nr-dashboard-theme md-select-menu,\n    .nr-dashboard-theme md-select-menu md-option {\n        background-color: var(--surface);\n        color: var (--on-surface);\n    }\n\n    .nr-dashboard-theme md-select-menu md-option[selected] {\n        color: #1bbfff !important;\n        background-color: var(--surface) !important;\n    }\n\n    .nr-dashboard-theme md-menu-content {\n        background-color: #ffffff;\n        color: #111111;\n    }\n\n    .nr-dashboard-theme md-menu-content md-menu-item {\n        background-color: #ffffff;\n        color: #111111;\n    }\n\n    /* Date picker */\n    .nr-dashboard-theme .nr-dashboard-date-picker md-input-container .md-input {\n        color: var(--on-surface);\n        //border-color: #1d85fc;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-date-picker .md-datepicker-triangle-button .md-datepicker-expand-triangle {\n        border-top-color: #1d85fc;\n    }\n\n    body.nr-dashboard-theme md-sidenav {\n        background-color: var(--surface);\n    }\n\n    md-list-item._md-button-wrap>div.md-button:first-child,\n    md-list-item .md-list-item-inner {\n        background-color: var(--surface);\n    }\n\n    /* Chart */\n    .nr-dashboard-theme .nr-dashboard-chart-title {\n        color: var(--on-surface);\n        //border-color: #1d85fc;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-chart-container {\n        color: var(--on-surface);\n        //border-color: #1d85fc;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-chart {\n        color: var(--on-surface);\n        //border-color: #1d85fc;\n    }\n\n    /* Kulatění rohů */\n    .Kulati_Nahore {\n     //   border-top-left-radius: var(--radius-s);\n     //   border-top-right-radius: var(--radius-s);\n    }\n\n    .Kulati_Dole {\n      //  border-bottom-left-radius: var(--radius-s);\n      //  border-bottom-right-radius: var(--radius-s);\n    }\n\n    /* Zmenšení mezer mezi prvky */\n    .nr-dashboard-theme .nr-dashboard-text {\n        margin-bottom: 5px; /* Zmenšení spodního okraje mezi texty */\n    }\n\n    /* Zmenšení okrajů a výplní karet */\n    .nr-dashboard-theme .nr-dashboard-cardpanel {\n        padding: 0px;\n        margin: 0px;\n    }\n</style>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":false,"templateScope":"global","className":"","x":200,"y":40,"wires":[[]],"icon":"node-red-dashboard/ui_colour_picker.png","info":"# Modern Dark Theme for node-red-dashboard\n\nInspired by Victor Lucachi with his [Node Red Dashboard Concept](https://dribbble.com/shots/10356530-Node-Red-Dashboard-Concept) on Dribbble. Thank you for your work.\n\n## Customize\n\n1. Go on dashboard customisation tab (At the right of Debug Console).\n2. Select the style `Dark`.\n3. Pick the color you want. Example `#66B5F8`\n\n## Buttons\n\nUse `2x2` size for buttons with icon and text on the screenshot"},{"id":"1b14bd990d90bb27","type":"ui_spacer","z":"dc14bd796219d9ad","name":"spacer","group":"eff8c2fb7917b0ab","order":5,"width":6,"height":1},{"id":"5db1f2a9f025accc","type":"ui_spacer","z":"dc14bd796219d9ad","name":"spacer","group":"eff8c2fb7917b0ab","order":10,"width":6,"height":1},{"id":"5ae3f00e2cc9042a","type":"ui_spacer","z":"dc14bd796219d9ad","name":"spacer","group":"7d718c13f8419912","order":3,"width":6,"height":1},{"id":"1b35cd07511a5b51","type":"ui_spacer","z":"dc14bd796219d9ad","name":"spacer","group":"b1eb05edab318eb0","order":4,"width":6,"height":1},{"id":"7625ff8fc02473e0","type":"ui_spacer","z":"dc14bd796219d9ad","name":"spacer","group":"b1eb05edab318eb0","order":8,"width":6,"height":1},{"id":"cecdf3ae35b0441d","type":"ui_spacer","z":"dc14bd796219d9ad","name":"spacer","group":"b1eb05edab318eb0","order":11,"width":6,"height":1},{"id":"eff8c2fb7917b0ab","type":"ui_group","name":"Real Data","tab":"f3a8a67ff0904e39","order":1,"disp":true,"width":"6","collapse":true,"className":""},{"id":"6bdf3420903b72e3","type":"ui_group","name":"Řízení přetoků","tab":"f3a8a67ff0904e39","order":2,"disp":true,"width":"6","collapse":true,"className":""},{"id":"7d718c13f8419912","type":"ui_group","name":"SPOT","tab":"f3a8a67ff0904e39","order":3,"disp":true,"width":"6","collapse":true,"className":""},{"id":"b1eb05edab318eb0","type":"ui_group","name":"ESS","tab":"f3a8a67ff0904e39","order":4,"disp":true,"width":"6","collapse":true,"className":""},{"id":"f3a8a67ff0904e39","type":"ui_tab","name":"FVE","icon":"dashboard","order":1,"disabled":false,"hidden":false}]